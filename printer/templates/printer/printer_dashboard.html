{% extends 'core/base.html' %}

{%block title %} Printer {% endblock %}

{% block content %}
<div class="container">
    <header class="d-flex justify-content-center py-3">
        <ul class="nav nav-pills">
            <li class="nav-item"><a href="{% url 'order_dashboard' %}" class="nav-link" aria-current="page">Orders</a></li>
            <li class="nav-item"><a href="{% url 'printer_dashboard' %}" class="nav-link active">Printers</a></li>
            <li class="nav-item"><a href="{% url 'material_dashboard' %}" class="nav-link">Materials</a></li>
            <li class="nav-item"><a href="{% url 'vendor_admin' %}" class="nav-link">Admin</a></li>
            <li class="nav-item"><a href="{% url 'faq' %}" class="nav-link">FAQs</a></li>
        </ul>
    </header>
</div>

<div class="row justify-content-center">
    <div class='col-8 '>

        <hr>


        <div class="card mb-3 border-0" style="max-width: 540px;">
            <div class="row g-0">
                <div class="col-md-4 image-container">
                    <img src="{{ vendor.get_thumbnail }}" alt="store-logo" class="profile-pic">
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <h2 class="card-title">Printer Dashboard</h2>
                        <p class="card-text">Display the printers you have online</p>
                        <p class="card-text"><small class="text-muted">Since: {{ vendor.created_at }}</small></p>
                    </div>
                    <hr>
                </div>
            </div>
        </div>

        <h2 class="card-title">Your Printers -         <a href="{% url 'printer'  %}" class="btn btn-primary">Add printer</a>        </h2>
        
        <br>

        <div class="row row-cols-1 row-cols-md-3 g-4">

            {% for printer in printers %}
            <div class="col">

                <div class="card" >
                    <div class="card-body">
                        <h5 class="card-title">
                            {{ printer }}
                        </h5>
                        {% if printer.is_active %}
                        <span class="badge rounded-pill bg-success">Online</span>
                        {% else %}
                        <span class="badge rounded-pill bg-light text-dark">Offline</span>
                        {% endif %}
                    </div>

                    <ul class="list-group list-group-flush"> 
                        {% for material in printer.materials.all %}
                            {% if material.stock == False %}
                            {% else %}  
                                <li class="list-group-item">{{ material.global_material }}</li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                    
                    <div class="card-body">
                        <a href="{% url 'printer'  printer.id %}" class="card-link">Edit</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}